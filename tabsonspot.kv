#:kivy 1.9.0
WindowManager:
    MainWindow:
    SecondWindow:
    ThirdWindow:

<MainWindow>:
    name: "main"
    Button:
        id: select_file_button
        text:"Choose audio file"
        size_hint: None, None
        size: root.width/2, root.height/10
        pos_hint: {'center_x': .5, 'top': .9}
        on_release: root.select_file()

    Button:
        id: show_popup_button
        text:"Save tab"
        size_hint: None, None
        size: root.width/2, root.height/10
        pos_hint: {'center_x': .5, 'top': .8}
        on_release: root.show_popup()

    Button:
        id: saved_tabs
        text:"Saved"
        size_hint: None, None
        size: root.width/2, root.height/10
        pos_hint: {'center_x': .5, 'top': .7}
        on_release:
            app.root.current = "second"
            root.manager.transition.direction = "left"

    ScrollView:
        size_hint: None, None
        size: root.width, root.height/2
        pos_hint: {'center_x': .5, 'bellow_button': .7}
        Label:
            id: label_tab
            font_name: "fonts/monospace.ttf"
            text: "Your tabs will appear here"
            size_hint_y: None
            height: self.texture_size[1]
            text_size: self.width, None
            padding_x: self.width * 0.2

<MyPopup>:
    TextInput:
        id: tab_name
        size_hint: 0.6, 0.2
        pos_hint: {"x": 0.2, "top": 1}

    Button:
        text: "Save"
        size_hint: None, None
        pos_hint: {"x": 0.75, "top": 0.1}
        size: root.width/4,root.height/8
        on_release: root.save_tab()

    Button:
        text: "Cancel"
        pos_hint: {"x": 0, "top": 0.1}
        size_hint: None, None
        size: root.width/4,root.height/8
        on_release: root.dismiss_popup()

<SecondWindow>:
    name: "second"
    Button:
        text: "Go Back"
        size_hint: None, None
        size: root.width/6,root.height/10
        pos_hint: {"x": 0.85, "top": 1}
        on_release:
            app.root.current = "main"
            root.manager.transition.direction = "right"

    ScrollView:
        id: scroll_view
        size_hint: None, None
        size: root.width, root.height - root.height/10
        pos_hint: {'center_x': .5, 'bellow_button': .9}
        BoxLayout:
            id: box_layout
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height

<ThirdWindow>:
    name: "third"
    Button:
        id: show_popup_button
        text: "Go Back"
        size_hint: None, None
        size: root.width/6,root.height/10
        pos_hint: {"x": 0.85, "top": 1}
        on_release:
            app.root.current = "second"
            root.manager.transition.direction = "right"

    ScrollView:
        id: scroll_view
        size_hint: None, None
        size: root.width, root.height - root.height/10
        pos_hint: {'center_x': .5, 'bellow_button': .9}
        BoxLayout:
            id: box_layout
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height
            Label:
                id: title_tab
                font_name: "fonts/monospace.ttf"
                text: ""
                size_hint: None, None
                pos_hint: {'center_x': .5, 'top': .9}
                height: self.texture_size[1]
                text_size: self.width, None

            Label:
                id: title_content
                font_name: "fonts/monospace.ttf"
                text: ""
                size_hint: None, None
                pos_hint: {'center_x': .5, 'top': .7}
                height: self.texture_size[1]
                width: root.width
                text_size: self.width, None
                padding_x: self.width * 0.2
